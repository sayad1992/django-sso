<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

    {% if user.is_authenticated %}
        <h3>Hello {{ user.first_name|default:user.username }}</h3>
        <a href="/tasks/" class="btn btn-info">Go to your tasks</a>
        <br><br>

        {% if backend and "AdfsAuthCodeBackend" in backend %}
            <!-- SSO User -->
            <a href="{% url 'sso_logout' %}" class="btn btn-danger">Logout (SSO)</a>
        {% else %}
            <!-- Normal User -->
            <form action="/accounts/logout/" method="post">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">Logout (Normal)</button>
            </form>
        {% endif %}

    {% else %}
        <h3>Welcome!</h3>
        <a href="/accounts/login/" class="btn btn-secondary">Login with Username/Password</a><br><br>
        <a href="/oauth2/login" class="btn btn-primary">Login with ADFS</a>
    {% endif %}

</body>
</html>
